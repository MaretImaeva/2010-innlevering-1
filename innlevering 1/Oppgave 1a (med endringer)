import sys

class Set:
    def __init__(self):
        self.root = None
        #Instansvariabel til en rot i treet


    class Node:
        def __init__(self, element):
            self.element = element
            self.left = None
            self.right = None
            self.size = 1

    #insert, size, remove og contains:

    def insert (self,v,x):
        if v is None:
            return self.Node(x)
            
        elif x < v.element:
            v.left = self.insert(v.left,x)
            # print(f"Adding to left")
        elif x > v.element:
            v.right = self.insert(v.right,x)
            # print(f"Adding to right")

        #Oppdaterer size
        # v.size = 1 + (v.left.size if v.left else 0) + (v.right.size if v.right else 0)
        return v


    def FindMin(self, x):
        if x is None:
            return
        if x.left is None:
            return x
        return self.FindMin(x.left)


    def Remove(self,v,x):
        if v is None:
            return None
        elif x < v.element:
            v.left = self.Remove(v.left,x)
            return v
        elif x > v.element:
            v.right = self.Remove(v.right,x)
            return v
        elif v.left is None:
            return v.right
        elif v.right is None:
            return v
        u = self.FindMin(v.right)
        v.element = u.element
        v.right = self.Remove(v.right, u.element)
        
        #Oppdaterer size
        # v.size = 1 + (v.left.size if v.left else 0) + (v.right.size if v.right else 0)
        return v


    #er x med i treet?
    def contains(self,v, x):
        if v is None:
            return False
        if v.element == x:
            return True
        elif x > v.element:
            return self.contains(v.right, x)
        else:
            return self.contains(v.left, x)


    # hvor mange elementer er det i treet?
    def size(self, v):
        if v is None:
            return 0
        return 1+self.size(v.left) + self.size(v.right)


    #stdin - legge inn kommando til en fil eller skrive inn i terminal manuelt
    def sjekkKommando(self, kommando, x):
            global root
            if kommando == "contains":
                print(self.contains(self.root, x))
            if kommando == "insert":
                self.root = self.insert(self.root, x)
            if kommando == "remove":
                self.root = self.Remove(self.root, x)
            if kommando == "size":
                print(self.size(self.root))
                



def main():
    tre = Set()
    print("Skriv antall kommandoer først deretter whtvr")
    første = sys.stdin.readline().strip()
    if første is None:
        return
    ant_kommandoer = int(første.strip())
    for i in range(ant_kommandoer):
        line = sys.stdin.readline()
        if not line:
            break
        deler = line.strip().split()
        if not deler:
            continue
        kommando = deler[0]
        if len(deler)>=2:
            x=int(deler[1])
        else:
            x= None
        tre.sjekkKommando(kommando, x)


main()
